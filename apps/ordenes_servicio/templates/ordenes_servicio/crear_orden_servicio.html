{% extends 'ordenes_servicio/base.html' %}
{% load staticfiles %}
{% load bootstrap3 %}

{% block miga_pan %}
{% endblock miga_pan %}

{% block titulo %}Orden Servicio{% endblock titulo %}

{% block titulo_pagina %}Crear Orden de Servicio{% endblock %}

{% block css %}
<style media="screen">
</style>
{% endblock css %}

{% block contenido %}

<div class="col-md-12">
  <div class="box box-primary">
 
      <div class="box-body">
        <form method="POST" id="formulario"> {% csrf_token %}
          <div class="row">
              <div class="col-sm-12">
                {% bootstrap_field form.servicio_vendido%}
              </div>
              <div class="col-sm-6">
                {% bootstrap_field form.cliente%}
              </div>
              <div class="col-sm-6">
                {% bootstrap_field form.comentarios%}
              </div>
              <div class="col-sm-6">
                {% bootstrap_field form.encargado_select %}
              </div>
              <div class="col-sm-6">
                  <label class="control-label">Encargado seleccionado:</label>
                  <input type="text" id="id_encargado_seleccionado_texto" class="form-control" disabled>
              </div>
              <div class="col-sm-12">
                  <input type="text" name="encargado" id="id_encargado" class="form-control hidden">
              </div>
          </div>
            <div class="row">
                <div class="col-md-12">
                    <button type="submit" class="btn btn-success bg-olive-active pull-right">Registrar</button>
                </div>
            </div>
        </form>
      </div>
    </div>
</div>


{% endblock contenido %}

{% block js %}
<script src="https://cdn.rawgit.com/xcash/bootstrap-autocomplete/3de7ad37/dist/latest/bootstrap-autocomplete.js"></script>
<script>
    $('.basicAutoSelect').autoComplete(
        {minLength: 1}
    );
    $('.basicAutoSelect').on('autocomplete.select', function (evt, item) {
      //doc: https://gitcdn.link/cdn/xcash/bootstrap-autocomplete/4192ba1848802880b288985fc4332478f9a8699a/dist/latest/index.html
      document.getElementById("id_encargado").value = item["id"];
      document.getElementById("id_encargado_seleccionado_texto").value = item["text"];
      document.getElementById("id_encargado_select").value = "";
    });

</script>
{% endblock js %}